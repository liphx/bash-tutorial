# pipe

## 组合两个命令

```shell
$ ps -ef | grep nginx
liph      8010  7984  0 20:36 pts/0    00:00:00 grep --color=auto nginx
root     11710     1  0 May23 ?        00:00:00 nginx: master process /usr/sbin/nginx -c /etc/nginx/nginx.conf
nginx    11712 11710  0 May23 ?        00:00:04 nginx: worker process
```

## 将命令序列的输出赋给变量

```shell
#!/bin/bash
files=$(ls -a) # 子shell法
echo $files
dir=`pwd` # 反引用
echo $dir
```

-------------------------------------------存疑
假设我们使用子shell或反引用的方法将命令的输出保存到变量中，为了保留输出的空格和换行符（\n），必须使用双引号。

```shell
$ cat text.txt 
1
2
3
$ out=$(cat text.txt)
$ echo $out
1 2 3
$ out="$(cat text.txt)"
$ echo $out
1 2 3
```